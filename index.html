<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jharkhand Travel</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Header -->
    <header>
        <h1>Welcome to Jharkhand</h1>
        <p>Explore culture, nature, and stories from the heart of India</p>
    </header>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">Jharkhand</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#destination">Destination</a></li>
                <li><a href="#plan">Plan</a></li>
                <li><a href="#stories">Stories</a></li>
                <li><a href="#about">About</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Home Section -->
        <section id="home" class="hero">
            <div class="hero-content">
                <h2>Discover the Beauty of Jharkhand</h2>
                <p>Jharkhand’s dense forests and waterfalls hide countless tales. Explore the region through this in-depth story...</p>
                <button>Read More</button>
            </div>
        </section>

        <!-- Destination Section -->
        <section id="destination">
            <div class="section-content">
                <h2>Top Destinations</h2>
                <div class="stories-grid">
                    <div class="story-card">
                        <img src="content/destinations/belta.jpg" alt="Betla National Park">
                        <div class="story-content">
                            <h3>Betla National Park</h3>
                            <p>Explore wildlife and forest trails in Betla National Park.</p>
                            <button>Learn More</button>
                        </div>
                    </div>
                    <div class="story-card">
                        <img src="content/destinations/hundru.jpg" alt="Hundru Falls">
                        <div class="story-content">
                            <h3>Hundru Falls</h3>
                            <p>A stunning waterfall cascading 98 meters, perfect for nature lovers.</p>
                            <button>Learn More</button>
                        </div>
                    </div>
                    <div class="story-card">
                        <img src="content/destinations/ranchi.jpg" alt="Ranchi">
                        <div class="story-content">
                            <h3>Ranchi</h3>
                            <p>The capital city known for waterfalls, lakes, and vibrant culture.</p>
                            <button>Learn More</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Plan Section -->
        <section id="plan">
            <div class="section-content">
                <h2>Plan Your Trip</h2>
                <div class="stories-grid">
                    <div class="story-card">
                        <img src="content/plan/tips.png" alt="Best Time to Visit">
                        <div class="story-content">
                            <h3>Best Time to Visit</h3>
                            <p>Learn when to visit Jharkhand for perfect weather and festivals.</p>
                            <button>View Tips</button>
                        </div>
                    </div>
                    <div class="story-card">
                        <img src="content/plan/stay.png" alt="Stay Options">
                        <div class="story-content">
                            <h3>Stay</h3>
                            <p>Discover the best Stay and accommodation options.</p>
                            <button>View Routes</button>
                        </div>
                    </div>
                    <div class="story-card">
                        <img src="content/plan/tips.png" alt="Travel Tips">
                        <div class="story-content">
                            <h3>Tips</h3>
                            <p>Find authentic experiences, food, and cultural events during your trip.</p>
                            <button>Explore</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stories Section -->
        <section id="stories">
            <div class="section-content">
                <h2>Stories</h2>
                <div class="stories-grid">
                    <div class="story-card">
                        <img src="content/stories/story1.png" alt="Hidden Waterfalls">
                        <div class="story-content">
                            <h3>The Hidden Waterfalls</h3>
                            <p>By Rakesh | Sep 20, 2025</p>
                            <p>Discover the most beautiful hidden waterfalls of Jharkhand...</p>
                            <button>Read More</button>
                        </div>
                    </div>
                    <div class="story-card">
                        <img src="content/stories/story2.png" alt="Local Cuisine">
                        <div class="story-content">
                            <h3>Local Cuisine Delights</h3>
                            <p>By Sita | Sep 18, 2025</p>
                            <p>Explore the flavors of Jharkhand’s traditional dishes...</p>
                            <button>Read More</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about">
            <div class="about-content">
                <h2>About Jharkhand</h2>
                <p>Jharkhand is a land of forests, waterfalls, hills, and rich cultural heritage. Experience its unique beauty and traditions through stories, destinations, and travel guides.</p>
            </div>
        </section>

    </div>

    <!-- Footer -->
    <footer>
        &copy; 2025 Jharkhand Travel. All rights reserved.
    </footer>
<!-- ================= Chatbot UI ================= -->
<div id="chatbot">
    <div id="chat-header"><b>Jharkhand AI Guide</b></div>
    <div id="chat-body">
        <div id="chat-log"></div>
        <div style="display:flex; border-top:1px solid #ccc;">
            <input id="user-input" type="text" placeholder="Ask me about Jharkhand..." />
            <button onclick="sendMessage()">➤</button>
        </div>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const chatHeader = document.getElementById("chat-header");
    const chatBody = document.getElementById("chat-body");
    const userInput = document.getElementById("user-input");

    let collapsed = true;

    // Initialize chatBody height
    chatBody.style.display = "none";

    chatHeader.addEventListener("click", () => {
        if (collapsed) {
            chatBody.style.display = "flex";
            chatBody.style.flexDirection = "column";
            chatBody.style.height = "400px";
            userInput.focus();
        } else {
            chatBody.style.display = "none";
        }
        collapsed = !collapsed;
    });

    // Send message on Enter key
    userInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") sendMessage();
    });
});

// ================= Chatbot API =================
const API_KEY = "YOUR_GEMINI_API_KEY"; // replace with your key
const MODEL = "gemini-1.5-flash";
const chatLog = document.getElementById("chat-log");

let conversation = [{
    role:"user",
    parts:[{text:`
You are a professional Jharkhand travel guide chatbot.
Always answer directly with useful travel details.
Use clear lists, bullet points, or day-wise itineraries.
Keep sentences short (1–2 lines max).
Do NOT ask the user extra questions unless they explicitly request advice.
Focus on providing concrete recommendations: attractions, times, food, costs, tips.
Write in a simple, friendly tone.
`}]
}];

async function sendMessage() {
    const userInput = document.getElementById("user-input");
    const message = userInput.value.trim();
    if (!message) return;

    // Add user message to chat
    chatLog.innerHTML += `<div style="text-align:right; margin:6px 0;">
        <span style="display:inline-block; background:#006400; color:white; padding:8px 12px; border-radius:12px 12px 0 12px; max-width:75%; font-size:14px; line-height:1.4;">${message}</span>
    </div>`;
    userInput.value = "";
    conversation.push({ role:"user", parts:[{text:message}] });

    try {
        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${MODEL}:generateContent?key=${API_KEY}`, {
            method:"POST",
            headers: { "Content-Type":"application/json" },
            body: JSON.stringify({ contents: conversation })
        });
        const data = await response.json();
        let reply = data?.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn’t get a response.";

        reply = reply.replace(/\*\*(.*?)\*\*/g, "<b>$1</b>")
                     .replace(/\* (.*?)(\n|$)/g, "<li>$1</li>")
                     .replace(/\n/g, "<br>");
        if (reply.includes("<li>")) reply = "<ul style='margin:6px 0; padding-left:18px;'>"+reply+"</ul>";

        chatLog.innerHTML += `<div style="text-align:left; margin:6px 0;">
            <span style="display:inline-block; background:#f0f0f0; color:#222; padding:8px 12px; border-radius:12px 12px 12px 0; max-width:75%; font-size:14px; line-height:1.4;">${reply}</span>
        </div>`;
        chatLog.scrollTop = chatLog.scrollHeight;
        conversation.push({ role:"model", parts:[{text:reply}] });

    } catch(err) {
        chatLog.innerHTML += `<div style="color:red;"><b>Error:</b> ${err.message}</div>`;
    }
}
</script>

    <!-- Emergency Alert Button -->
    <div id="alert-btn" onclick="sendAlert()">🚨 Alert</div>

    <!-- ================= SCRIPTS ================= -->
    <script>
    // Hamburger Menu + Smooth Scroll
    const hamburger = document.querySelector('.hamburger');
    const navbar = document.querySelector('.navbar');
    hamburger.addEventListener('click', () => navbar.classList.toggle('active'));
    document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', e => {
            e.preventDefault();
            document.querySelector(link.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
            navbar.classList.remove('active');
        });
    });


    async function sendMessage() {
        const message = userInput.value.trim();
        if(!message) return;
        chatLog.innerHTML += `
            <div style="text-align:right; margin:6px 0;">
                <span style="display:inline-block; background:#006400; color:white; padding:8px 12px; border-radius:12px 12px 0 12px; max-width:75%; font-size:14px; line-height:1.4; word-wrap:break-word;">${message}</span>
            </div>`;
        userInput.value = "";
        conversation.push({ role:"user", parts:[{text:message}] });

        try {
            const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${MODEL}:generateContent?key=${API_KEY}`, {
                method:"POST",
                headers:{"Content-Type":"application/json"},
                body: JSON.stringify({ contents: conversation })
            });
            const data = await res.json();
            let reply = data?.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn’t get a response.";
            reply = reply.replace(/\*\*(.*?)\*\*/g, "<b>$1</b>")
                         .replace(/\* (.*?)(\n|$)/g, "<li>$1</li>")
                         .replace(/\n/g, "<br>");
            if(reply.includes("<li>")) reply = "<ul style='margin:6px 0; padding-left:18px;'>"+reply+"</ul>";

            chatLog.innerHTML += `
                <div style="text-align:left; margin:6px 0;">
                    <span style="display:inline-block; background:#f0f0f0; color:#222; padding:8px 12px; border-radius:12px 12px 12px 0; max-width:75%; font-size:14px; line-height:1.4; word-wrap:break-word;">${reply}</span>
                </div>`;
            chatLog.scrollTop = chatLog.scrollHeight;
            conversation.push({ role:"model", parts:[{text:reply}] });
        } catch(err){
            chatLog.innerHTML += `<div style="color:red;"><b>Error:</b> ${err.message}</div>`;
        }
    }
    </script>

</body>
</html>
